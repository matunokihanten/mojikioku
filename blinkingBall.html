<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>全20種のアニメーション統合サンプル（スマホ向けボタン配置）</title>
  <style>
    body {
      font-family: sans-serif;
      background: #333;
      color: #fff;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    canvas {
      display: block;
      margin: 20px auto;
      background: #222;
      border: 1px solid #fff;
      max-width: 100%;
      height: auto;
    }
    /* ボタンコンテナをグリッド表示に変更 */
    .button-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      padding: 10px;
      margin: 0 10px 20px;
    }
    .button-container button {
      padding: 15px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #555;
      color: #fff;
      cursor: pointer;
      transition: background 0.2s;
    }
    .button-container button:active {
      background: #777;
    }
  </style>
</head>
<body>
  <canvas id="canvas" width="800" height="600"></canvas>
  <div class="button-container">
    <button id="btnWakeUp">目が覚める</button>
    <button id="btnCalm">落ち着く</button>
    <button id="btnMeditation">瞑想</button>
    <button id="btnSelfSuggestion">自己暗示</button>
    <button id="btnConcentration">集中</button>
    <button id="btnEnergyBoost">エネルギーアップ</button>
    <button id="btnRelax">リラックス</button>
    <button id="btnHappy">幸せ</button>
    <button id="btnCreativity">創造性</button>
    <button id="btnCourage">勇気</button>
    <button id="btnGratitude">感謝</button>
    <button id="btnSparkle">スパークル</button>
    <button id="btnChakra">チャクラ調整</button>
    <button id="btnInspiration">インスピレーション</button>
    <button id="btnParty">パーティー</button>
    <button id="btnCoolDown">クールダウン</button>
    <button id="btnSelfDiscovery">自己発見</button>
    <button id="btnBalance">バランス</button>
    <button id="btnFocus">フォーカス</button>
    <button id="btnBrainActivation">脳活性化</button>
  </div>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    // 現在のモードとモード開始時刻
    let currentMode = "wakeUp";
    let modeStartTime = performance.now();

    // ユーティリティ：補色を返す関数（必要に応じて利用）
    function getComplementaryColor(color) {
      switch(color) {
        case 'red': return 'cyan';
        case 'blue': return 'orange';
        case 'green': return 'magenta';
        case 'yellow': return 'purple';
        case 'purple': return 'lime';
        case 'orange': return 'blue';
        default: return '#fff';
      }
    }

    // モード切替時に呼び出して開始時刻をリセット
    function setMode(mode) {
      currentMode = mode;
      modeStartTime = performance.now();
    }

    // アニメーションループ
    function animate(timestamp) {
      const elapsed = timestamp - modeStartTime; // モード開始からの経過時間
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // 各モードごとの描画処理
      switch(currentMode) {
        case "wakeUp": {
          // 目が覚める: 高速点滅（約10 Hz）、赤い玉、背景はシアン
          const period = 100;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "cyan";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "red";
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        case "calm": {
          // 落ち着く: ゆっくり (1 Hz) 点滅、青い玉、背景はライトブルー
          const period = 1000;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "lightblue";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "blue";
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        case "meditation": {
          // 瞑想: 非常にゆっくりフェード（0.5 Hz）、紫の玉をアルファで描画
          const frequency = 0.5;
          const alpha = 0.5 + 0.5 * Math.sin(2 * Math.PI * frequency * elapsed / 1000);
          ctx.fillStyle = "black";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.beginPath();
          ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
          ctx.fillStyle = "rgba(128, 0, 128, " + alpha + ")";
          ctx.fill();
          ctx.closePath();
          break;
        }
        case "selfSuggestion": {
          // 自己暗示: 玉の点滅＋内側に縮むエフェクトとメッセージ
          const period = 1000;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "#444";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "magenta";
            ctx.fill();
            ctx.closePath();
          }
          const collapseDuration = 3000;
          const collapseElapsed = elapsed % collapseDuration;
          const startRadius = Math.max(canvas.width, canvas.height) / 2;
          const currentRadius = startRadius * (1 - collapseElapsed / collapseDuration);
          const overlayOpacity = collapseElapsed / collapseDuration;
          ctx.beginPath();
          ctx.arc(canvas.width/2, canvas.height/2, currentRadius, 0, Math.PI * 2);
          ctx.fillStyle = "rgba(0,0,0," + overlayOpacity + ")";
          ctx.fill();
          ctx.closePath();
          ctx.font = "36px sans-serif";
          ctx.fillStyle = "white";
          ctx.textAlign = "center";
          ctx.fillText("あなたは素晴らしい！", canvas.width/2, canvas.height/2);
          break;
        }
        case "concentration": {
          // 集中: 中速 (5 Hz) 点滅、緑の玉＋外側のリング効果
          const period = 200;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "#222";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "lime";
            ctx.fill();
            ctx.closePath();
          }
          ctx.beginPath();
          ctx.arc(canvas.width/2, canvas.height/2, 100 + 10 * Math.sin(elapsed / 100), 0, Math.PI * 2);
          ctx.strokeStyle = "white";
          ctx.lineWidth = 4;
          ctx.stroke();
          ctx.closePath();
          break;
        }
        case "energyBoost": {
          // エネルギーアップ: 高速 (15 Hz) 点滅、黄色の玉
          const period = 1000 / 15;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "black";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "yellow";
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        case "relax": {
          // リラックス: ゆっくり (1 Hz) 点滅、柔らかい緑、背景は淡い緑
          const period = 1000;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "#a0d6a0";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "green";
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        case "happy": {
          // 幸せ: 約3 Hz 点滅、暖色系（ピンク）で表現
          const period = 333;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "lightpink";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "hotpink";
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        case "creativity": {
          // 創造性: 2 Hz 点滅、球の色が時間とともに変化
          const period = 500;
          const phase = (elapsed % period) < (period / 2);
          const hue = (elapsed / 10) % 360;
          const dynamicColor = "hsl(" + hue + ",80%,50%)";
          ctx.fillStyle = "#222";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = dynamicColor;
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        case "courage": {
          // 勇気: 高速 (10 Hz) 点滅、強い赤系（crimson）
          const period = 100;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "#400";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "crimson";
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        case "gratitude": {
          // 感謝: ゆっくり (1 Hz) 点滅、ラベンダー色＋「ありがとう」テキスト
          const period = 1000;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "#eee";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "lavender";
            ctx.fill();
            ctx.closePath();
          }
          ctx.font = "30px sans-serif";
          ctx.fillStyle = "black";
          ctx.textAlign = "center";
          ctx.fillText("ありがとう", canvas.width/2, canvas.height/2 + 10);
          break;
        }
        case "sparkle": {
          // スパークル: 約3 Hz 点滅＋画面全体に小さな白い星を描画
          const period = 333;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "black";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI*2);
            ctx.fillStyle = "magenta";
            ctx.fill();
            ctx.closePath();
          }
          for (let i = 0; i < 20; i++) {
            const x = Math.random() * canvas.width;
            const y = Math.random() * canvas.height;
            const r = Math.random() * 3;
            ctx.beginPath();
            ctx.arc(x, y, r, 0, Math.PI*2);
            ctx.fillStyle = "white";
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        case "chakra": {
          // チャクラ調整: 中心周りに7色の小球（パルス効果付き）
          ctx.fillStyle = "#222";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          const chakraColors = ["red", "orange", "yellow", "green", "blue", "indigo", "violet"];
          const centerX = canvas.width/2, centerY = canvas.height/2;
          const circleRadius = 30;
          const pulse = 10 * Math.sin(elapsed/500);
          for (let i = 0; i < 7; i++) {
            const angle = (i / 7) * 2 * Math.PI;
            const x = centerX + 150 * Math.cos(angle);
            const y = centerY + 150 * Math.sin(angle);
            ctx.beginPath();
            ctx.arc(x, y, circleRadius + pulse, 0, Math.PI * 2);
            ctx.fillStyle = chakraColors[i];
            ctx.fill();
            ctx.closePath();
          }
          ctx.beginPath();
          ctx.arc(centerX, centerY, 60, 0, Math.PI * 2);
          ctx.fillStyle = "white";
          ctx.fill();
          ctx.closePath();
          break;
        }
        case "inspiration": {
          // インスピレーション: サンライズ風グラデーション＋ゆっくりフェードする玉
          const grad = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
          grad.addColorStop(0, "orange");
          grad.addColorStop(1, "yellow");
          ctx.fillStyle = grad;
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          const period = 2000;
          const alpha = 0.5 + 0.5 * Math.sin(2 * Math.PI * (elapsed / period));
          ctx.beginPath();
          ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
          ctx.fillStyle = "rgba(255,165,0," + alpha + ")";
          ctx.fill();
          ctx.closePath();
          break;
        }
        case "party": {
          // パーティー: 非常に高速 (約20 Hz) 点滅＋毎回ランダムな色
          const period = 1000 / 20;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "black";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            const randColor = 'hsl(' + (Math.random()*360) + ',100%,50%)';
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = randColor;
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        case "coolDown": {
          // クールダウン: 冷たいブルー調、1 Hz 点滅
          const period = 1000;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "navy";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "cyan";
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        case "selfDiscovery": {
          // 自己発見: グレーの玉＋拡散するリップル＋メッセージ
          ctx.fillStyle = "#222";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          const period = 1000;
          const phase = (elapsed % period) < (period / 2);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "grey";
            ctx.fill();
            ctx.closePath();
          }
          const rippleDuration = 1500;
          const rippleElapsed = elapsed % rippleDuration;
          const rippleRadius = 80 + (rippleElapsed / rippleDuration) * 200;
          const rippleAlpha = 1 - (rippleElapsed / rippleDuration);
          ctx.beginPath();
          ctx.arc(canvas.width/2, canvas.height/2, rippleRadius, 0, Math.PI * 2);
          ctx.strokeStyle = "rgba(255,255,255," + rippleAlpha + ")";
          ctx.lineWidth = 5;
          ctx.stroke();
          ctx.closePath();
          ctx.font = "32px sans-serif";
          ctx.fillStyle = "white";
          ctx.textAlign = "center";
          ctx.fillText("あなたは素晴らしい！", canvas.width/2, canvas.height/2 + 10);
          break;
        }
        case "balance": {
          // バランス: 対称に脈打つ玉＋同心円
          ctx.fillStyle = "#333";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          const pulse = 10 * Math.sin(elapsed / 200);
          ctx.beginPath();
          ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
          ctx.fillStyle = "white";
          ctx.fill();
          ctx.closePath();
          ctx.beginPath();
          ctx.arc(canvas.width/2, canvas.height/2, 100 + pulse, 0, Math.PI * 2);
          ctx.strokeStyle = "yellow";
          ctx.lineWidth = 4;
          ctx.stroke();
          ctx.closePath();
          ctx.beginPath();
          ctx.arc(canvas.width/2, canvas.height/2, 120 - pulse, 0, Math.PI * 2);
          ctx.strokeStyle = "orange";
          ctx.lineWidth = 4;
          ctx.stroke();
          ctx.closePath();
          break;
        }
        case "focus": {
          // フォーカス: 中心明るく、周囲暗い（ビネット効果）
          const gradient = ctx.createRadialGradient(canvas.width/2, canvas.height/2, 10, canvas.width/2, canvas.height/2, 300);
          gradient.addColorStop(0, "white");
          gradient.addColorStop(1, "black");
          ctx.fillStyle = gradient;
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.beginPath();
          ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
          ctx.fillStyle = "white";
          ctx.fill();
          ctx.closePath();
          break;
        }
        case "brainActivation": {
          // 脳活性化: 非常に高速（約25 Hz）点滅＋ランダムな色
          const period = 1000 / 25;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = "black";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            const randColor = 'hsl(' + (Math.random() * 360) + ',100%,50%)';
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = randColor;
            ctx.fill();
            ctx.closePath();
          }
          break;
        }
        default: {
          // デフォルト: 2 Hz 点滅、赤い玉
          const period = 500;
          const phase = (elapsed % period) < (period / 2);
          ctx.fillStyle = getComplementaryColor("red");
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          if (phase) {
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 80, 0, Math.PI * 2);
            ctx.fillStyle = "red";
            ctx.fill();
            ctx.closePath();
          }
        }
      }
      requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);

    // 各ボタンにイベントリスナー設定
    document.getElementById("btnWakeUp").addEventListener("click", () => { setMode("wakeUp"); });
    document.getElementById("btnCalm").addEventListener("click", () => { setMode("calm"); });
    document.getElementById("btnMeditation").addEventListener("click", () => { setMode("meditation"); });
    document.getElementById("btnSelfSuggestion").addEventListener("click", () => { setMode("selfSuggestion"); });
    document.getElementById("btnConcentration").addEventListener("click", () => { setMode("concentration"); });
    document.getElementById("btnEnergyBoost").addEventListener("click", () => { setMode("energyBoost"); });
    document.getElementById("btnRelax").addEventListener("click", () => { setMode("relax"); });
    document.getElementById("btnHappy").addEventListener("click", () => { setMode("happy"); });
    document.getElementById("btnCreativity").addEventListener("click", () => { setMode("creativity"); });
    document.getElementById("btnCourage").addEventListener("click", () => { setMode("courage"); });
    document.getElementById("btnGratitude").addEventListener("click", () => { setMode("gratitude"); });
    document.getElementById("btnSparkle").addEventListener("click", () => { setMode("sparkle"); });
    document.getElementById("btnChakra").addEventListener("click", () => { setMode("chakra"); });
    document.getElementById("btnInspiration").addEventListener("click", () => { setMode("inspiration"); });
    document.getElementById("btnParty").addEventListener("click", () => { setMode("party"); });
    document.getElementById("btnCoolDown").addEventListener("click", () => { setMode("coolDown"); });
    document.getElementById("btnSelfDiscovery").addEventListener("click", () => { setMode("selfDiscovery"); });
    document.getElementById("btnBalance").addEventListener("click", () => { setMode("balance"); });
    document.getElementById("btnFocus").addEventListener("click", () => { setMode("focus"); });
    document.getElementById("btnBrainActivation").addEventListener("click", () => { setMode("brainActivation"); });
  </script>
</body>
</html>
